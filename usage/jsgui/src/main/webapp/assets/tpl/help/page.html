<!-- Help page -->
<div class="container container-fluid">
<div id="help-page">
    <div class="help-logo-right"><img width="450" src="/assets/img/waratek.png"/></div>
    <h3>Waratek Help</h3>
    
    <p>This is the Waratek JavaScript web client for the REST API.<br/></p>
    
    <p>You are currently using Waratek Version 0.7.0-SNAPSHOT.</p> <!-- BROOKLYN_VERSION -->
    
    <hr/>
    Some useful references include:
    <ul>
        <li><a href="http://www.waratek.com">Waratek web page</a></li>
        <li><a href="http://github.com/waratek">Code at Github</a></li>
    </ul>
    <p>
    Note you can observe the REST requests made by the Javascript GUI 
    through the developers console in many browsers.
    <hr/>
    Some miscellaneous Waratek control options are:
    <ul>
        <li><a href="/logout">Log out</a></li>
        <li>Shutdown Waratek Server: <a href="javascript:postShutdown(true)">stop all apps</a> or <a href="javascript:postShutdown(false)">leave apps running</a></li>
        <script type="text/javascript">
        function postShutdown(stopAppsFirst) {
          if (window.confirm("Really shutdown the Waratek server?")) {
            $.ajax({
                type:"POST",
                url:"/v1/server/shutdown",
                data: { stopAppsFirst: stopAppsFirst, delayMillis: 250 },
                success:function (data) {
                    $('#help-page').fadeTo(500,0.1);
                },
                error: function(data) {
                    $('#help-page')
                        .fadeTo(200,0.2)
                        .delay(200).fadeTo(200,1)
                        .delay(200).fadeTo(100,0.2)
                        .delay(200).fadeTo(200,1)
//                      .delay(200).fadeTo(100,0.2)
//                      .delay(200).fadeTo(200,1)
                    // TODO render the error better than poor-man's flashing
                    
                    console.error("ERROR shutting down")
                    console.debug(data)
                }})
          }
        }
        </script>
    </ul> 
    (These are living here until a more appropriate home for them is built.)
</div>
</div>
